(this.webpackJsonptarea3=this.webpackJsonptarea3||[]).push([[0],{106:function(e,n,t){},108:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),s=t(5),i=t.n(s),r=(t(67),t(43),t(9)),o=t(7),l=t(15),j=t(6),d=t(141),b=t(18),u=t.n(b),h=t(39),O=t.n(h),m=t(2),f=u.a.connect("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"});var g=function(){var e=Object(c.useState)({message:"",name:""}),n=Object(j.a)(e,2),t=n[0],a=n[1],s=Object(c.useState)([]),i=Object(j.a)(s,2),b=i[0],u=i[1];Object(c.useEffect)((function(){f.on("CHAT",(function(e){var n=e.name,t=e.message,c=O()().format("MMMM Do YYYY, h:mm:ss a");u([].concat(Object(l.a)(b),[{name:n,message:t,date:c}]))}))}));var h=function(e){a(Object(o.a)(Object(o.a)({},t),{},Object(r.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=t.name,c=t.message,s=O()().format("MMMM Do YYYY, h:mm:ss a");f.emit("CHAT",{name:n,message:c,date:s}),a({message:"",name:""})},children:[Object(m.jsx)("h1",{children:"Messenger"}),Object(m.jsx)("div",{className:"name-field",children:Object(m.jsx)(d.a,{name:"name",onChange:function(e){return h(e)},value:t.name,label:"Name"})}),Object(m.jsx)("div",{children:Object(m.jsx)(d.a,{name:"message",onChange:function(e){return h(e)},value:t.message,id:"outlined-multiline-static",variant:"outlined",label:"Message"})}),Object(m.jsx)("button",{children:"Send Message"})]}),Object(m.jsxs)("div",{className:"render-chat",children:[Object(m.jsx)("h1",{children:"Centro de Control"}),b.map((function(e,n){var t=e.name,c=e.message,a=e.date;return Object(m.jsx)("div",{children:Object(m.jsxs)("h3",{children:[Object(m.jsx)("p",{children:a}),t,": ",Object(m.jsx)("span",{children:c})]})},n)}))]})]})},p=t(137),x=t(138),v=(t(139),t(140)),w=t(142),S=(t(106),t(107),t(8)),M=t.n(S),A=t.p+"static/media/plane.dd7e4926.svg",C=t.p+"static/media/black-circle.a49a7c47.svg",U=t.p+"static/media/house.b5626aba.svg",z=u.a.connect("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),I=(new M.a.icon({iconUrl:C,iconRetinaUrl:C,iconAnchor:[-0,-0],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:[5,5]}),new M.a.icon({iconUrl:U,iconRetinaUrl:U,iconAnchor:[-0,-0],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:[25,25]}),new M.a.icon({iconUrl:A,iconRetinaUrl:A,iconAnchor:[-0,-0],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:[30,30]})),T=function(){var e=Object(c.useState)({}),n=Object(j.a)(e,2),t=n[0],a=n[1],s=Object(c.useState)([]),i=Object(j.a)(s,2),d=i[0],b=i[1],u=Object(c.useState)([]),h=Object(j.a)(u,2),O=h[0],f=h[1];Object(c.useEffect)((function(){z.on("POSITION",(function(e){f((function(n){return[].concat(Object(l.a)(n),[e])})),a((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(r.a)({},e.code,e.position))}))}))}),[]),Object(c.useEffect)((function(){z.emit("FLIGHTS"),z.on("FLIGHTS",(function(e){b(e)}))}),[]);var g=function(e){return e.map((function(e){return Object(m.jsxs)("p",{children:[e.name,", ",e.age," "]})}))};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{id:"leaflet-container",children:[Object(m.jsx)("h1",{children:"MAP"}),Object(m.jsxs)(v.a,{center:[0,0],zoom:3,scrollWheelZoom:!1,children:[Object(m.jsx)(w.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),O.map((function(e){var n=[e.position[0],e.position[1]];return Object(m.jsx)(p.a,{position:n,icon:I,children:Object(m.jsx)(x.a,{code:e.code,children:Object(m.jsx)("code",{children:e.code})})})})),Object.keys(t).map((function(e){return Object(m.jsx)("div",{children:Object(m.jsxs)("p",{children:[" Este es el item ",t[e].code]})})}))]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Informaci\xf3n de Vuelos"}),Object(m.jsx)("button",{children:"Get flights "}),d.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{children:["Vuelo: ",e.code]}),Object(m.jsxs)("p",{children:["Aerolinea: ",e.airline," "]}),Object(m.jsxs)("p",{children:["Origen: ",e.origin[0],", ",e.origin[1]]}),Object(m.jsxs)("p",{children:["Destino: ",e.destination[0],", ",e.destination[1]]}),Object(m.jsxs)("p",{children:["Avion: ",e.plane," "]}),Object(m.jsxs)("p",{children:["Asientos: ",e.seats," "]}),Object(m.jsx)("p",{children:" Passengers"}),g(e.passengers)]})}))]})]})},Y=u.a.connect("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"});var k=function(){return Object(c.useEffect)((function(){Y.emit("FLIGHTS")})),Object(m.jsxs)("div",{children:[Object(m.jsx)(T,{}),Object(m.jsx)(g,{})]})},F=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,143)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root")),F()},43:function(e,n,t){},67:function(e,n,t){}},[[108,1,2]]]);
//# sourceMappingURL=main.99e6017e.chunk.js.map